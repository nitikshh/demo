<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
  <link rel="shortcut icon" href="youtube-logo-png-2061.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="style.css">
  <title>Video Player</title>
</head>

<div class="search-cont-main">
  <div class="search-cont" id="search-results">
    <!-- Placeholder for search results -->
    <div class="search-grid">
      <div class="search-item">Search Result 1</div>
      <div class="search-item">Search Result 2</div>
      <div class="search-item">Search Result 3</div>
      <!-- Add more search result items as needed -->
    </div>
  </div>
</div>
<div class="header">
  <div class="logo-container">
    <i class="ri-menu-line"></i>
    <div class="logo">
      <div class="logo-img">
        <!--<img src="myLoog.jpg" alt="">-->
      </div>
      <h1 id="logo-txt">WATCHit</h1>
    </div>
  </div>
  <div class="search-container">
    <form id="search-form">
      <input type="text" class="search-input" id="search-input" placeholder="Search" onclick="toggleSearchResults()">
    </form>
    <button class="mic"><i class="ri-mic-fill"></i></button>
  </div>

  <style>
    .search-cont {
      position: fixed;
      top: 70px;
      left: 0;
      overflow: scroll;
      width: 100%;
      /* Full-width container */
      height: 100%;
      /* Full-height container */
      background-color: rgba(15, 12, 12, 0.95);
      /* Semi-transparent white background */
      display: none;
      /* Initially hidden */
      z-index: 9999;
      overflow: auto;
      /* Enable scrolling */
    }

    .search-cont .video-content-cover {
      width: 400px;
    }

    .search-cont .hidden-content {
      display: none;
    }

    .search-cont-main {
      display: flex;

      overflow: scroll;

      height: 100vh;
      /* Set the height to cover the viewport */

      position: fixed;
      top: 70px;
      left: 0;
      z-index: 9998;
      /* A lower z-index than the search results to keep it behind */
    }

    .search-grid {
      /* Create a grid layout for search results */
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      /* Adjust the number of columns as needed */
      gap: 10px;
      /* Gap between grid items */
      padding: 20px;
    }

    .search-item {
      /* Individual search result item styles */
      padding: 10px;
      border: 1px solid #ccc;
      margin: 10px;
      background-color: #fff;
    }
  </style>
  <script>
    function toggleSearchResults() {
      var searchResults = document.getElementById('search-results');
      if (searchResults.style.display === 'none' || searchResults.style.display === '') {
        searchResults.style.display = 'block';
      } else {
        searchResults.style.display = 'none';
      }
    }
  </script>
  <div class="profile-container">
    <i class="fa-solid fa-triangle-exclamation"></i>
    <i class="ri-grid-fill"></i>
    <i class="ri-play-list-2-line"></i>
    <i class="fa-solid ri-question-line"></i>
    <!--<div class="profile-box">
                <img src="unnamed (7).jpg" alt="">
            </div>
            -->
  </div>
</div>
<div class="body-container">
  <div class="sidebar">
    <div class="sidebar-items">
      <a class="sidebar-item"><i class="ri-home-5-line"></i></i>Home</a>
      <a class="sidebar-item"><i class="ri-compass-3-line"></i>Explore</a>
      <a class="sidebar-item"><i class="ri-wireless-charging-line"></i>Shorts</a>
      <a class="sidebar-item"><i class="ri-rss-line"></i>Subscription</a>
      <hr>
      <a class="sidebar-item"><i class="ri-links-line"></i>Library</a>
      <a class="sidebar-item"><i class="ri-history-line"></i>History</a>
      <a class="sidebar-item"><i class="ri-video-line"></i>Your videos</a>
      <a class="sidebar-item"><i class="ri-time-line"></i>Watch later</a>
      <a class="sidebar-item"><i class="ri-play-list-2-line"></i>All videos</a>
      <a class="sidebar-item"><i class="ri-arrow-down-s-line"></i>Show more</a>
      <hr>
      <h4 class="more">More from youtube</h4>
      <a class="sidebar-item"><i class="ri-keyboard-box-line"></i>Gaming</a>
      <a class="sidebar-item"><i class="ri-live-line"></i>Live</a>
      <a class="sidebar-item"><i class="ri-award-line"></i>Sports</a>
      <hr>
      <a class="sidebar-item"><i class="ri-settings-5-line"></i>Settings</a>
      <a class="sidebar-item"><i class="ri-flag-line"></i>Report history</a>
      <a class="sidebar-item"><i class="ri-question-line"></i>Help</a>
      <a class="sidebar-item"><i class="ri-feedback-line"></i>Send feedback</a>
    </div>
  </div>
  <div class="content">
    <div class="chips-wrapper">
      <div class="chip">
        <p>All</p>
      </div>
      <div class="chip">
        <p>CSS</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
      <div class="chip">
        <p>User interface design</p>
      </div>
    </div>
    <div class="main">
      <div class="video-infoo">
        <div class="container show-controls">
          <div class="wrapper">
            <div class="video-timeline">
              <div class="progress-area">
                <span>00:00</span>
                <div class="progress-bar"></div>
              </div>
            </div>
            <ul class="video-controls">
              <li class="options left">
                <button class="volume"><i class="fa-solid fa-volume-high"></i></button>
                <input type="range" min="0" max="1" step="any">
                <div class="video-timer">
                  <p class="current-time">00:00</p>
                  <p class="separator"> / </p>
                  <p class="video-duration">00:00</p>
                </div>
              </li>
              <li class="options center">
                <button class="skip-backward"><i class="fas fa-backward"></i></button>
                <button class="play-pause"><i class="fas fa-play"></i></button>
                <button class="skip-forward"><i class="fas fa-forward"></i></button>
              </li>
              <li class="options right">
                <div class="playback-content">
                  <button class="playback-speed"><span
                      class="material-symbols-rounded">slow_motion_video</span></button>
                  <ul class="speed-options">
                    <li data-speed="2">2x</li>
                    <li data-speed="1.5">1.5x</li>
                    <li data-speed="1" class="active">Normal</li>
                    <li data-speed="0.75">0.75x</li>
                    <li data-speed="0.5">0.5x</li>
                  </ul>
                </div>
                <button class="pic-in-pic"><span class="material-icons">picture_in_picture_alt</span></button>
                <button class="fullscreen"><i class="fa-solid fa-expand"></i></button>
              </li>
            </ul>
          </div>
          <video id="video-player"></video>
        </div>
        <div class="inf">
          <h2 id="videoTitle">Loading...</h2>
          <div class="video-inf">
            <div class="views"><i class="fa-sharp fa-solid fa-eye"></i><span id="videoViews">Loading...</span></div>
          </div>
        </div>

        <!-- Your HTML content remains unchanged -->

        <script>
          // Function to get query parameters from URL
          function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
              var pair = vars[i].split('=');
              if (decodeURIComponent(pair[0]) === variable) {
                return decodeURIComponent(pair[1]);
              }
            }
            return null;
          }

          // Get the title, views, and video query parameters
          var titleParam = getQueryVariable('title');
          var viewsParam = getQueryVariable('views');
          var videoParam = getQueryVariable('video'); // Add this line to retrieve the video query parameter

          // Update the content in play.html
          if (titleParam !== null) {
            var videoTitle = document.getElementById('videoTitle');
            videoTitle.textContent = titleParam;
          }

          if (viewsParam !== null) {
            var videoViews = document.getElementById('videoViews');
            videoViews.textContent = viewsParam;
          }

          // Update the video source
          if (videoParam !== null) {
            var videoPlayer = document.getElementById('video-player');
            videoPlayer.src = decodeURIComponent(videoParam);
            videoPlayer.controls = true; // Add this line to enable controls for the video player
            videoPlayer.load(); // Add this line to ensure the video player loads the new source
          }
        </script>

        <!-- Your HTML content continues... -->



      </div>
      <div class="data">
        <div class="video-container" id="video-container">
          <!-- Placeholder container for JavaScript to clone -->
          <div class="video-content-cover" id="template-container" style="display: none;">
            <div class="video-content">
              <a href="#" class="video-box">
                <img src="myLogo.jpg" alt="main_img">
              </a>
            </div>
            <div class="video-details">
              <div class="channel-logo">
                <img src="myLogo.jpg" alt="short_img">
              </div>
              <div class="detail">
                <h3 class="title">This is the title</h3>
                <div class="channel-name"><i class="fa-sharp fa-solid fa-eye"></i>Views</div>
                <div class="views-upload">
                  <div class="views"><i class="fa-regular fa-thumbs-up"></i>345k</div>
                  <div style="margin-left: 10px;" class="upload"><i class="fa-solid fa-thumbs-down"></i>21k</div>
                </div>
              </div>
            </div>
          </div>
          <!-- Comment section -->
          <div class="comment-section">
            <h2>Comments</h2>
            <div class="comment-list">
              <!-- Comments will be displayed here dynamically using JavaScript -->
            </div>
            <div class="comment-form">
              <textarea id="comment-text" placeholder="Leave a comment"></textarea>
              <button id="submit-comment">Submit</button>
            </div>
          </div>
        </div>
      </div>
    </div>



    <script>
      const container = document.querySelector(".container"),
        mainVideo = container.querySelector("video"),
        videoTimeline = container.querySelector(".video-timeline"),
        progressBar = container.querySelector(".progress-bar"),
        volumeBtn = container.querySelector(".volume i"),
        volumeSlider = container.querySelector(".left input");
      currentVidTime = container.querySelector(".current-time"),
        videoDuration = container.querySelector(".video-duration"),
        skipBackward = container.querySelector(".skip-backward i"),
        skipForward = container.querySelector(".skip-forward i"),
        playPauseBtn = container.querySelector(".play-pause i"),
        speedBtn = container.querySelector(".playback-speed span"),
        speedOptions = container.querySelector(".speed-options"),
        pipBtn = container.querySelector(".pic-in-pic span"),
        fullScreenBtn = container.querySelector(".fullscreen i");
      let timer;

      const hideControls = () => {
        if (mainVideo.paused) return;
        timer = setTimeout(() => {
          container.classList.remove("show-controls");
        }, 3000);
      }
      hideControls();

      container.addEventListener("mousemove", () => {
        container.classList.add("show-controls");
        clearTimeout(timer);
        hideControls();
      });

      const formatTime = time => {
        let seconds = Math.floor(time % 60),
          minutes = Math.floor(time / 60) % 60,
          hours = Math.floor(time / 3600);

        seconds = seconds < 10 ? `0${seconds}` : seconds;
        minutes = minutes < 10 ? `0${minutes}` : minutes;
        hours = hours < 10 ? `0${hours}` : hours;

        if (hours == 0) {
          return `${minutes}:${seconds}`
        }
        return `${hours}:${minutes}:${seconds}`;
      }

      videoTimeline.addEventListener("mousemove", e => {
        let timelineWidth = videoTimeline.clientWidth;
        let offsetX = e.offsetX;
        let percent = Math.floor((offsetX / timelineWidth) * mainVideo.duration);
        const progressTime = videoTimeline.querySelector("span");
        offsetX = offsetX < 20 ? 20 : (offsetX > timelineWidth - 20) ? timelineWidth - 20 : offsetX;
        progressTime.style.left = `${offsetX}px`;
        progressTime.innerText = formatTime(percent);
      });

      videoTimeline.addEventListener("click", e => {
        let timelineWidth = videoTimeline.clientWidth;
        mainVideo.currentTime = (e.offsetX / timelineWidth) * mainVideo.duration;
      });

      mainVideo.addEventListener("timeupdate", e => {
        let { currentTime, duration } = e.target;
        let percent = (currentTime / duration) * 100;
        progressBar.style.width = `${percent}%`;
        currentVidTime.innerText = formatTime(currentTime);
      });

      mainVideo.addEventListener("loadeddata", () => {
        videoDuration.innerText = formatTime(mainVideo.duration);
      });

      const draggableProgressBar = e => {
        let timelineWidth = videoTimeline.clientWidth;
        progressBar.style.width = `${e.offsetX}px`;
        mainVideo.currentTime = (e.offsetX / timelineWidth) * mainVideo.duration;
        currentVidTime.innerText = formatTime(mainVideo.currentTime);
      }

      volumeBtn.addEventListener("click", () => {
        if (!volumeBtn.classList.contains("fa-volume-high")) {
          mainVideo.volume = 0.5;
          volumeBtn.classList.replace("fa-volume-xmark", "fa-volume-high");
        } else {
          mainVideo.volume = 0.0;
          volumeBtn.classList.replace("fa-volume-high", "fa-volume-xmark");
        }
        volumeSlider.value = mainVideo.volume;
      });

      volumeSlider.addEventListener("input", e => {
        mainVideo.volume = e.target.value;
        if (e.target.value == 0) {
          return volumeBtn.classList.replace("fa-volume-high", "fa-volume-xmark");
        }
        volumeBtn.classList.replace("fa-volume-xmark", "fa-volume-high");
      });

      speedOptions.querySelectorAll("li").forEach(option => {
        option.addEventListener("click", () => {
          mainVideo.playbackRate = option.dataset.speed;
          speedOptions.querySelector(".active").classList.remove("active");
          option.classList.add("active");
        });
      });

      document.addEventListener("click", e => {
        if (e.target.tagName !== "SPAN" || e.target.className !== "material-symbols-rounded") {
          speedOptions.classList.remove("show");
        }
      });

      fullScreenBtn.addEventListener("click", () => {
        container.classList.toggle("fullscreen");
        if (document.fullscreenElement) {
          fullScreenBtn.classList.replace("fa-compress", "fa-expand");
          return document.exitFullscreen();
        }
        fullScreenBtn.classList.replace("fa-expand", "fa-compress");
        container.requestFullscreen();
      });

      speedBtn.addEventListener("click", () => speedOptions.classList.toggle("show"));
      pipBtn.addEventListener("click", () => mainVideo.requestPictureInPicture());
      skipBackward.addEventListener("click", () => mainVideo.currentTime -= 5);
      skipForward.addEventListener("click", () => mainVideo.currentTime += 5);
      mainVideo.addEventListener("play", () => playPauseBtn.classList.replace("fa-play", "fa-pause"));
      mainVideo.addEventListener("pause", () => playPauseBtn.classList.replace("fa-pause", "fa-play"));
      playPauseBtn.addEventListener("click", () => mainVideo.paused ? mainVideo.play() : mainVideo.pause());
      videoTimeline.addEventListener("mousedown", () => videoTimeline.addEventListener("mousemove", draggableProgressBar));
      document.addEventListener("mouseup", () => videoTimeline.removeEventListener("mousemove", draggableProgressBar));
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const commentText = document.getElementById('comment-text');
        const submitButton = document.getElementById('submit-comment');
        const commentList = document.querySelector('.comment-list');

        // Function to add a new comment to the list
        function addComment(text) {
          const comment = document.createElement('div');
          comment.className = 'comment';
          comment.textContent = text;
          commentList.appendChild(comment);
        }

        // Event listener for the submit button
        submitButton.addEventListener('click', function () {
          const text = commentText.value.trim();

          if (text !== '') {
            addComment(text);
            commentText.value = ''; // Clear the input field
          }
        });
      });

    </script>
    <script src="https://kit.fontawesome.com/your-font-awesome-kit.js"></script>
    </body>

</html>